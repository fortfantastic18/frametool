var V_CONFIG={base_url:"string"==typeof BASE_URL?BASE_URL:document.location.protocol+"//"+document.location.host+"/",api:{control:{menu_list:"api2/ControlApi/menu_list"}}};!function t(n){for(var e in n)if(n.hasOwnProperty(e))switch(typeof n[e]){case"string":n[e]=V_CONFIG.base_url+n[e];break;case"object":t(n[e])}}(V_CONFIG.api);var V_PAGE={},V_APP={page:{},runPage:function(t){return V_PAGE.hasOwnProperty(t)&&"function"==typeof V_PAGE[t]?(V_APP.page.hasOwnProperty(t)||(V_APP.page[t]=V_PAGE[t]()),V_APP.page[t]):(console.error("Page:"+t+", not found."),null)}};V_PAGE.Control=function(){var t=jQuery,n=new Vue({el:"#ControlMain",data:{menus:null,error:null,title:"Loading",showVersion:!1,currentView:null,callback:null},components:{picture_list:{template:"<pre>{{list|json}}</pre>",methods:{load:function(){this.list=this.$data}},props:{callback:Function},created:function(){"function"==typeof this.callback&&this.callback(this)}},dashboard:{template:"Testing",methods:{},props:{callback:Function},created:function(){"function"==typeof this.callback&&this.callback(this)}}},methods:{rDashboard:function(){this.setMenu("dashboard"),this.setTitle("控制面板",!0),this.callback=function(t){console.log((new Date).toString())},this.currentView="dashboard"},rPictureList:function(){this.setMenu("picture","picture-list"),this.setTitle("图片列表"),this.callback=function(t){t.load()},this.currentView="picture_list"},init_menus:function(n){var e=this;jQuery.getJSON(V_CONFIG.api.control.menu_list,{},function(i){i.status?(e.menus=i.content,Vue.nextTick(function(){t.AdminLTE.tree(".sidebar"),"function"==typeof n&&n()})):e.error=i.msg})},setMenu:function(n,e){"string"==typeof n&&""!=n&&(t("#VME-"+n).addClass("active"),"string"==typeof e&&""!=e&&t("#VME-"+e).addClass("active"))},setTitle:function(t,n){this.title=t,this.showVersion=n===!0}}});return n.init_menus(function(){var t={"/":function(){n.rDashboard()},"/picture_list":function(){n.rPictureList()}},e=Router(t);e.init(),""==document.location.hash&&t["/"]()}),n};